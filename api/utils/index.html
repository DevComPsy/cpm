<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>cpm.utils - CPM library</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../../style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "cpm.utils";
        var mkdocs_page_input_path = "api/utils.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/markdown.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/makefile.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> CPM library
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../roadmap/">Roadmap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/example1/">Example 1: An associative learning model and blocking</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/example2/">Example 2: Reinforcement learning with a two-armed bandit.</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/example3/">Example 3: Estimating Empirical Priors</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/example4/">Example 4: Scale to hypercomputing cluster</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/example5/">Example 5: Estimating meta-d (metacognitive efficiency)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API Reference</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../generators/">cpm.generators</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../models/">cpm.models</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../optimisation/">cpm.optimisation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../hierarchical/">cpm.hierarchical</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../applications/">cpm.applications</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">cpm.utils</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#cpm.utils.data.pandas_to_dict">pandas_to_dict</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cpm.utils.data.dict_to_pandas">dict_to_pandas</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cpm.utils.metad.count_trials">count_trials</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cpm.utils.metad.bin_ratings">bin_ratings</a>
    </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">CPM library</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">API Reference</li>
      <li class="breadcrumb-item active">cpm.utils</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="cpmutils">cpm.utils</h1>


<div class="doc doc-object doc-function">


<h2 id="cpm.utils.data.pandas_to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cpm</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">pandas_to_dict</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">participant</span><span class="o">=</span><span class="s1">&#39;ppt&#39;</span><span class="p">,</span> <span class="n">stimuli</span><span class="o">=</span><span class="s1">&#39;stimulus&#39;</span><span class="p">,</span> <span class="n">feedback</span><span class="o">=</span><span class="s1">&#39;feedback&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents first">

        <p>Convert a pandas dataframe to a dictionary suitable for use with the CPM wrappers.</p>
<p>The pandas dataframe should have a column for each stimulus, and a column for
each feedback, and a column for a participant identifier. Each row should be
a single trial, and each participant should have a unique number in the participant column.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>df</code></b>
                  (<code>pandas dataframe</code>, default:
                      <code>None</code>
)
              –
              <div class="doc-md-description">
                <p>The dataframe to convert</p>
              </div>
            </li>
            <li>
              <b><code>stimuli</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;stimulus&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>The prefix for each stimulus column in the pandas DataFrame, by default "stimulus".</p>
              </div>
            </li>
            <li>
              <b><code>participant</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;ppt&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>The column name for the participant number, by default "ppt".</p>
              </div>
            </li>
            <li>
              <b><code>**kwargs</code></b>
                  (<code><span title="dict">dict</span></code>, default:
                      <code>{}</code>
)
              –
              <div class="doc-md-description">
                <p>Any other keyword arguments to pass to the pandas DataFrame.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code><span title="list">list</span></code>
              –
              <div class="doc-md-description">
                <p>A list of dictionaries, each dictionary containing the stimuli and
feedback for a single participant.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cpm.utils.data.dict_to_pandas" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cpm</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dict_to_pandas</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents first">

        <p>Convert a dictionary to a pandas dataframe.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>dict</code></b>
                  (<code><span title="dict">dict</span></code>)
              –
              <div class="doc-md-description">
                <p>The dictionary to convert.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
<b><code>pandas</code></b>(                  <code><span title="dataframe">dataframe</span></code>
)              –
              <div class="doc-md-description">
                <p>The pandas dataframe converted from dict.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cpm.utils.metad.count_trials" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cpm</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">metad</span><span class="o">.</span><span class="n">count_trials</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">stimuli</span><span class="o">=</span><span class="s1">&#39;Stimuli&#39;</span><span class="p">,</span> <span class="n">responses</span><span class="o">=</span><span class="s1">&#39;Responses&#39;</span><span class="p">,</span> <span class="n">accuracy</span><span class="o">=</span><span class="s1">&#39;Accuracy&#39;</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="s1">&#39;Confidence&#39;</span><span class="p">,</span> <span class="n">nRatings</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">padAmount</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents first">

        <p>Convert raw behavioral data to nR_S1 and nR_S2 response count.</p>
<p>Given data from an experiment where an observer discriminates between two
stimulus alternatives on every trial and provides confidence ratings,
converts trial by trial experimental information for N trials into response
counts.</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>data</code></b>
              –
              <div class="doc-md-description">
                <p>Dataframe containing stimuli, accuracy and confidence ratings.</p>
              </div>
            </li>
            <li>
              <b><code>stimuli</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;Stimuli&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>Stimuli ID (0 or 1). If a dataframe is provided, should be the name of
the column containing the stimuli ID. Default is <code>'Stimuli'</code>.</p>
              </div>
            </li>
            <li>
              <b><code>responses</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;Responses&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>Response (0 or 1). If a dataframe is provided, should be the
name of the column containing the response accuracy. Default is
<code>'Responses'</code>.</p>
              </div>
            </li>
            <li>
              <b><code>accuracy</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;Accuracy&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>Response accuracy (0 or 1). If a dataframe is provided, should be the
name of the column containing the response accuracy. Default is
<code>'Accuracy'</code>.</p>
              </div>
            </li>
            <li>
              <b><code>confidence</code></b>
                  (<code><span title="str">str</span></code>, default:
                      <code>&#39;Confidence&#39;</code>
)
              –
              <div class="doc-md-description">
                <p>Confidence ratings. If a dataframe is provided, should be the name of
the column containing the confidence ratings. Default is
<code>'Confidence'</code>.</p>
              </div>
            </li>
            <li>
              <b><code>nRatings</code></b>
                  (<code><span title="int">int</span></code>, default:
                      <code>4</code>
)
              –
              <div class="doc-md-description">
                <p>Total of available subjective ratings available for the subject. e.g.
if subject can rate confidence on a scale of 1-4, then nRatings = 4.
Default is <code>4</code>.</p>
              </div>
            </li>
            <li>
              <b><code>padding</code></b>
                  (<code><span title="bool">bool</span></code>, default:
                      <code>False</code>
)
              –
              <div class="doc-md-description">
                <p>If <code>True</code>, each response count in the output has the value of padAmount
added to it. Padding cells is desirable if trial counts of 0 interfere
with model fitting. If False, trial counts are not manipulated and 0s
may be present in the response count output. Default value for padding
is 0.</p>
              </div>
            </li>
            <li>
              <b><code>padAmount</code></b>
                  (<code><span title="float">float</span></code>, default:
                      <code>None</code>
)
              –
              <div class="doc-md-description">
                <p>The value to add to each response count if padding is set to 1.
Default value is 1/(2*nRatings)</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>nR_S1, nR_S2 :</code>
              –
              <div class="doc-md-description">
                <p>Vectors containing the total number of responses in each accuracy
category, conditional on presentation of S1 and S2.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<details class="note" open>
  <summary>Notes</summary>
  <p>All trials where <code>stimuli</code> is not 0 or 1, accuracy is not 0 or 1, or confidence is
not in the range [1, nRatings], are automatically omitted.</p>
<p>The inputs can be responses, accuracy or both. If both <code>responses</code> and
<code>accuracy</code> are provided, will check for consstency. If only <code>accuracy</code> is
provided, the responses vector will be automatically infered.</p>
<p>If nR_S1 = [100 50 20 10 5 1], then when stimulus S1 was presented, the subject had
the following accuracy counts:
    responded S1, confidence=3 : 100 times
    responded S1, confidence=2 : 50 times
    responded S1, confidence=1 : 20 times
    responded S2, confidence=1 : 10 times
    responded S2, confidence=2 : 5 times
    responded S2, confidence=3 : 1 time</p>
<p>The ordering of accuracy / confidence counts for S2 should be the same as it is for
S1. e.g. if nR_S2 = [3 7 8 12 27 89], then when stimulus S2 was presented, the
subject had the following accuracy counts:
    responded S1, confidence=3 : 3 times
    responded S1, confidence=2 : 7 times
    responded S1, confidence=1 : 8 times
    responded S2, confidence=1 : 12 times
    responded S2, confidence=2 : 27 times
    responded S2, confidence=3 : 89 times</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">stimID</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">accuracy</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">confidence</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nRatings</span> <span class="o">=</span> <span class="mi">4</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">nR_S1</span><span class="p">,</span> <span class="n">nR_S2</span> <span class="o">=</span> <span class="n">trials2counts</span><span class="p">(</span><span class="n">stimID</span><span class="p">,</span> <span class="n">accuracy</span><span class="p">,</span> <span class="n">confidence</span><span class="p">,</span> <span class="n">nRatings</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">nR_S1</span><span class="p">,</span> <span class="n">nR_S2</span><span class="p">)</span>
</code></pre></div>


<details class="reference" open>
  <summary>Reference</summary>
  <p>This function is adapted from the Python version of trials2counts.m by
Maniscalco &amp; Lau [1] retrieved at:
http://www.columbia.edu/~bsm2105/type2sdt/trials2counts.py</p>
<p>.. [1] Maniscalco, B., &amp; Lau, H. (2012). A signal detection theoretic
    approach for estimating metacognitive sensitivity from confidence
    ratings. Consciousness and Cognition, 21(1), 422–430.
    https://doi.org/10.1016/j.concog.2011.09.021</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="cpm.utils.metad.bin_ratings" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cpm</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">metad</span><span class="o">.</span><span class="n">bin_ratings</span><span class="p">(</span><span class="n">ratings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nbins</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ignore_invalid</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents first">

        <p>Convert from continuous to discrete ratings.</p>
<p>Resample if quantiles are equal at high or low end to ensure proper
assignment of binned confidence</p>


<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Parameters:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
              <b><code>ratings</code></b>
                  (<code><span title="list">list</span> | <span title="numpy.ndarray">ndarray</span></code>, default:
                      <code>None</code>
)
              –
              <div class="doc-md-description">
                <p>Ratings on a continuous scale.</p>
              </div>
            </li>
            <li>
              <b><code>nbins</code></b>
                  (<code><span title="int">int</span></code>, default:
                      <code>4</code>
)
              –
              <div class="doc-md-description">
                <p>The number of discrete ratings to resample. Default set to <code>4</code>.</p>
              </div>
            </li>
            <li>
              <b><code>verbose</code></b>
                  (<code><span title="boolean">boolean</span></code>, default:
                      <code>True</code>
)
              –
              <div class="doc-md-description">
                <p>If <code>True</code>, warnings will be returned.</p>
              </div>
            </li>
            <li>
              <b><code>ignore_invalid</code></b>
                  (<code><span title="bool">bool</span></code>, default:
                      <code>False</code>
)
              –
              <div class="doc-md-description">
                <p>If <code>False</code> (default), an error will be raised in case of impossible
discretisation of the confidence ratings. This is mostly due to identical
values, and SDT values should not be extracted from the data. If <code>True</code>, the
discretisation will process anyway. This option can be useful for plotting.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Returns:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
<b><code>discreteRatings</code></b>(                  <code><span title="numpy.ndarray">ndarray</span></code>
)              –
              <div class="doc-md-description">
                <p>New rating array only containing integers between 1 and <code>nbins</code>.</p>
              </div>
            </li>
            <li>
<b><code>out</code></b>(                  <code><span title="dict">dict</span></code>
)              –
              <div class="doc-md-description">
                <p>Dictionary containing logs of the discretisation process:
    * <code>'confbins'</code>: list or 1d array-like - If the ratings were
        reampled, a list containing the new ratings and the new low or
        hg threshold, appened before or after the rating, respectively.
        Else, only returns the ratings.
    * <code>'rebin'</code>: boolean - If True, the ratings were resampled due to
        larger numbers of highs or low ratings.
    * <code>'binCount'</code> : int - Number of bins</p>
              </div>
            </li>
            <li>
                  <code>.. warning:: This function will automatically control for bias in high or</code>
              –
              <div class="doc-md-description">
                <p>low confidence ratings. If the first two or the last two quantiles
have identical values, low or high confidence trials are excluded
(respectively), and the function is run again on the remaining data.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<table class="field-list">
  <colgroup>
    <col class="field-name" />
    <col class="field-body" />
  </colgroup>
  <tbody valign="top">
    <tr class="field">
      <th class="field-name">Raises:</th>
      <td class="field-body">
        <ul class="first simple">
            <li>
                  <code>ValueError:</code>
              –
              <div class="doc-md-description">
                <p>If the confidence ratings contains a lot of identical values and
<code>ignore_invalid</code> is <code>False</code>.</p>
              </div>
            </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">metadpy.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">discreteRatings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ratings</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">96</span><span class="p">,</span> <span class="mi">98</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">78</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">63</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">39</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">32</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">73</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">52</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span>  <span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">37</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">28</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">69</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">61</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mi">63</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">54</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="mi">36</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">88</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">77</span><span class="p">,</span> <span class="mi">54</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">discreteRatings</span><span class="p">,</span> <span class="n">out</span> <span class="o">=</span> <span class="n">discreteRatings</span><span class="p">(</span><span class="n">ratings</span><span class="p">)</span>
<span class="go">(array([4, 4, 4, 4, 2, 3, 4, 1, 4, 4, 4, 4, 3, 1, 4, 1, 1, 1, 3, 2, 1, 3,</span>
<span class="go">    4, 2, 2, 3, 2, 2, 2, 2, 3, 1, 3, 1, 3, 4, 3, 1, 3, 1, 2, 3, 3, 1,</span>
<span class="go">    1, 1, 2, 1, 1, 3, 3, 2, 2, 2, 3, 2, 2, 4, 4, 4, 2, 4, 1, 1, 4, 2,</span>
<span class="go">    4, 2, 3, 2, 3, 4, 1, 1, 3, 3, 4, 2, 4, 3]),</span>
<span class="go">{&#39;confBins&#39;: array([ 0., 20., 35., 60., 98.]), &#39;rebin&#39;: 0, &#39;binCount&#39;: 21})</span>
</code></pre></div>


    </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../applications/" class="btn btn-neutral float-left" title="cpm.applications"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../applications/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../.."></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
